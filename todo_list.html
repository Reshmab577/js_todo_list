<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=div, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <div class="container">
    <h2>To Do List</h2>
    <div>
        <input type="text" placeholder=" enter the kitchen items here" id="kitchen-input">
        <button id="add-btn">Add now</button>
    </div>
    <ul id="kitchen-items-list" class="kitchen-items-list">
       
    </ul>
   </div> 
   <script>
    
  let kitchenInput = document.getElementById("kitchen-input");
  let addBtn = document.getElementById("add-btn");
  let kitchenItemList = document.getElementById("kitchen-items-list");
  let kitchenInputData;
  function setLocalStorage(){
    localStorage.setItem("kitcheninput",kitchenInputData); 
  }
  function getLocalStorage(){
    
    kitchenInputData = localStorage.getItem("kitcheninput")
  }

  //step2
  //add kitchen items
  function addKitchenitems(){
     kitchenInputData = kitchenInput.value;
//set to local storage
// localStorage.setItem("kitcheninput",kitchenInputData)
setLocalStorage()
//get from local storage
// kitchenInputData = localStorage.getItem("kitcheninput")
getLocalStorage()
console.log(kitchenInputData)


     //create dom element(listitem)
     let li = document.createElement('li')
     //textcontent,innertext property

     //edit only the text by using span element
     let spanEl = document.createElement('span')
     li.appendChild(spanEl)
     spanEl.innerText =  kitchenInputData;

     //li.innerText =  kitchenInputData;
     //li.style.cssText = 'width  : 100px height : 30px'
     //apend list item to ul
     kitchenItemList.appendChild(li);
     kitchenInput.value = ''
     kitchenInput.focus();//cursor autoamattically at the start


     //create a edit button
     let editBtn = document.createElement('button')
     editBtn.innerText = "edit"
     editBtn.setAttribute('class','edit-btn')
     li.appendChild(editBtn)
     

     

     //create delete button
     let deleteButton = document.createElement('button')
     
     deleteButton.innerText = "dlt"
     deleteButton.setAttribute('class','dlt-btn')


     li.appendChild(deleteButton)
     


    console.log(li)
  }
//   function dltKitchenitems(){
//     kitchenItemList.value = ''
//   }


//delete item from kitchen list
function dltKitchenitems(event){
   
    if(event.target.classList[0] === "dlt-btn")
    {
        let item = event.target.parentElement;
      item.remove()
    }
    
} 
//edit kitchen item
function editKitchenItem(event){
  if(event.target.classList[0] === 'edit-btn')
  {
  // alert('enable edit mode')
  // console.log(event.target.classList);
  let editedValue = prompt("plese add new value")
  // console.log(editedValue)
  let item = event.target.parentElement;
  //get the parent elemt it is list item 
  let spanEl = item.querySelector('span')
  spanEl.innerText = editedValue
  // cosole.log(spanEl)
  //item.innerText = editedValue;
  }

   
    
}
//step1
  //add an event listener to the button
   addBtn.addEventListener('click',addKitchenitems)
//    deleteButton.addEventListener('click',dltKitchenitems)
kitchenItemList.addEventListener('click',dltKitchenitems)
kitchenItemList.addEventListener('click',editKitchenItem)
getLocalStorage();
   </script>
</body>
</html>